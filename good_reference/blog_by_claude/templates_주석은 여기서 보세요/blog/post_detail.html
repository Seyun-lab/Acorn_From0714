<!-- base.html í…œí”Œë¦¿ì„ ìƒì†ë°›ì•„ì„œ ê³µí†µ ë ˆì´ì•„ì›ƒ ì‚¬ìš© -->
{% extends 'base.html' %}

<!-- í˜ì´ì§€ ì œëª©ì„ ë™ì ìœ¼ë¡œ ì„¤ì • -->
<!-- {{ post.title }}: ê²Œì‹œê¸€ì˜ ì‹¤ì œ ì œëª©ì„ í…œí”Œë¦¿ ë³€ìˆ˜ë¡œ ì¶œë ¥ -->
<!-- ì˜ˆ: "Django ì‹œì‘í•˜ê¸° - Django Blog" -->
{% block title %}{{ post.title }} - Django Blog{% endblock %}

<!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ ì‹œì‘ -->
{% block content %}

<!-- Bootstrap ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ: ê²Œì‹œê¸€ì„ í™”ë©´ ì¤‘ì•™ì— ë°°ì¹˜ -->
<!-- row: Bootstrap í–‰ ìƒì„± -->
<!-- justify-content-center: ìì‹ ìš”ì†Œë“¤ì„ ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ -->
<div class="row justify-content-center">
    
    <!-- ì¤‘ê°„ í¬ê¸° í™”ë©´ì—ì„œ 10ì¹¸ ì°¨ì§€ (ì „ì²´ 12ì¹¸ ì¤‘ 5/6) -->
    <!-- ê²Œì‹œê¸€ ìƒì„¸ë³´ê¸°ëŠ” ë„“ê²Œ í‘œì‹œí•˜ì—¬ ê°€ë…ì„± í–¥ìƒ -->
    <div class="col-md-10">
        
        <!-- HTML5 ì‹œë§¨í‹± íƒœê·¸: article (ë…ë¦½ì ì¸ ì½˜í…ì¸  ë¸”ë¡) -->
        <!-- card: Bootstrap ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ë¡œ ê¹”ë”í•œ ë°•ìŠ¤ í˜•íƒœ -->
        <article class="card">
            
            <!-- ì¹´ë“œ í—¤ë”: ê²Œì‹œê¸€ ì œëª©ê³¼ ë©”íƒ€ ì •ë³´ -->
            <div class="card-header">
                
                <!-- ê²Œì‹œê¸€ ì œëª© -->
                <!-- h1: ê°€ì¥ ì¤‘ìš”í•œ ì œëª© (SEOì™€ ì ‘ê·¼ì„±ì— ì¢‹ìŒ) -->
                <!-- card-title: Bootstrap ì¹´ë“œ ì œëª© ìŠ¤íƒ€ì¼ -->
                <!-- mb-0: margin-bottom 0 (ì•„ë˜ìª½ ì—¬ë°± ì œê±°) -->
                <h1 class="card-title mb-0">{{ post.title }}</h1>
                
                <!-- ë©”íƒ€ ì •ë³´ ì˜ì—­ -->
                <!-- text-muted: Bootstrap íë¦° íšŒìƒ‰ í…ìŠ¤íŠ¸ -->
                <!-- mt-2: margin-top 2ë‹¨ê³„ (ìœ„ìª½ ì—¬ë°±) -->
                <div class="text-muted mt-2">
                    <small>
                        
                        <!-- ì‘ì„±ì ì •ë³´ -->
                        <!-- ğŸ‘¤: ì‚¬ìš©ìë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
                        <!-- {{ post.author.username }}: User ëª¨ë¸ì˜ username í•„ë“œ -->
                        <!-- strong: êµµì€ ê¸€ì”¨ë¡œ ê°•ì¡° -->
                        ğŸ‘¤ ì‘ì„±ì: <strong>{{ post.author.username }}</strong> | 
                        
                        <!-- ì‘ì„±ì¼ ì •ë³´ -->
                        <!-- ğŸ“…: ë‹¬ë ¥ì„ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
                        <!-- {{ post.created_at|date:"Yë…„ mì›” dì¼ H:i" }}: Django í…œí”Œë¦¿ í•„í„° -->
                        <!-- |date: ë‚ ì§œ í˜•ì‹ ì§€ì • í•„í„° -->
                        <!-- "Yë…„ mì›” dì¼ H:i": 2024ë…„ 1ì›” 15ì¼ 14:30 í˜•íƒœë¡œ í‘œì‹œ -->
                        ğŸ“… ì‘ì„±ì¼: {{ post.created_at|date:"Yë…„ mì›” dì¼ H:i" }}
                        
                        <!-- ìˆ˜ì •ì¼ í‘œì‹œ (ìˆ˜ì •ëœ ê²½ìš°ì—ë§Œ) -->
                        <!-- {% if post.updated_at != post.created_at %}: ìˆ˜ì •ì¼ê³¼ ì‘ì„±ì¼ì´ ë‹¤ë¥¸ ê²½ìš° -->
                        <!-- ì¦‰, ê²Œì‹œê¸€ì´ ìˆ˜ì •ëœ ê²½ìš°ì—ë§Œ ìˆ˜ì •ì¼ í‘œì‹œ -->
                        {% if post.updated_at != post.created_at %}
                            <!-- âœï¸: ì—°í•„ì„ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ (ìˆ˜ì • ì˜ë¯¸) -->
                            | âœï¸ ìˆ˜ì •ì¼: {{ post.updated_at|date:"Yë…„ mì›” dì¼ H:i" }}
                        {% endif %}
                        
                    </small>
                </div>
            </div>
            
            <!-- ì¹´ë“œ ë³¸ë¬¸: ê²Œì‹œê¸€ ë‚´ìš© -->
            <div class="card-body">
                
                <!-- ê²Œì‹œê¸€ ë‚´ìš© ì»¨í…Œì´ë„ˆ -->
                <!-- post-content: ì»¤ìŠ¤í…€ CSS í´ë˜ìŠ¤ (í•˜ë‹¨ì— ìŠ¤íƒ€ì¼ ì •ì˜) -->
                <div class="post-content">
                    
                    <!-- ê²Œì‹œê¸€ ë‚´ìš© ì¶œë ¥ -->
                    <!-- {{ post.content }}: Post ëª¨ë¸ì˜ content í•„ë“œ -->
                    <!-- |linebreaks: Django í…œí”Œë¦¿ í•„í„° -->
                    <!-- í…ìŠ¤íŠ¸ì˜ ì¤„ë°”ê¿ˆì„ HTML <p>ì™€ <br> íƒœê·¸ë¡œ ìë™ ë³€í™˜ -->
                    <!-- ì˜ˆ: "ì•ˆë…•í•˜ì„¸ìš”\n\në°˜ê°‘ìŠµë‹ˆë‹¤" â†’ "<p>ì•ˆë…•í•˜ì„¸ìš”</p><p>ë°˜ê°‘ìŠµë‹ˆë‹¤</p>" -->
                    {{ post.content|linebreaks }}
                    
                </div>
            </div>
            
            <!-- ì¹´ë“œ í‘¸í„°: ë²„íŠ¼ë“¤ -->
            <div class="card-footer">
                
                <!-- Flexbox ë ˆì´ì•„ì›ƒ: ë²„íŠ¼ë“¤ì„ ì¢Œìš° ì–‘ëìœ¼ë¡œ ë°°ì¹˜ -->
                <!-- d-flex: Flexbox í™œì„±í™” -->
                <!-- justify-content-between: ì¢Œìš° ì–‘ë ì •ë ¬ -->
                <!-- align-items-center: ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ -->
                <div class="d-flex justify-content-between align-items-center">
                    
                    <!-- ì™¼ìª½ ë²„íŠ¼ ê·¸ë£¹: ë„¤ë¹„ê²Œì´ì…˜ -->
                    <div>
                        
                        <!-- ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼ -->
                        <!-- btn btn-outline-secondary: Bootstrap ì•„ì›ƒë¼ì¸(í…Œë‘ë¦¬ë§Œ) ë³´ì¡° ë²„íŠ¼ -->
                        <!-- % url 'posts' %: posts URL íŒ¨í„´ìœ¼ë¡œ ì´ë™ -->
                        <!-- ğŸ“‹: ëª©ë¡ì„ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
                        <a href="{% url 'posts' %}" class="btn btn-outline-secondary">
                            ğŸ“‹ ëª©ë¡ìœ¼ë¡œ
                        </a>
                        
                        <!-- ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼ -->
                        <!-- btn-outline-primary: ì•„ì›ƒë¼ì¸ ê¸°ë³¸(íŒŒë€ìƒ‰) ë²„íŠ¼ -->
                        <!-- ğŸ : ì§‘ì„ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
                        <a href="{% url 'index' %}" class="btn btn-outline-primary">
                            ğŸ  ë©”ì¸ìœ¼ë¡œ
                        </a>
                        
                    </div>
                    
                    <!-- ì˜¤ë¥¸ìª½ ë²„íŠ¼ ê·¸ë£¹: ì‘ì„±ì ì „ìš© ì•¡ì…˜ -->
                    <!-- if user == post.author: í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìê°€ ê²Œì‹œê¸€ ì‘ì„±ìì¸ ê²½ìš°ì—ë§Œ í‘œì‹œ -->
                    <!-- ê¶Œí•œ ê¸°ë°˜ UI ì œì–´ -->
                    {% if user == post.author %}
                        <div>
                            
                            <!-- ìˆ˜ì •í•˜ê¸° ë²„íŠ¼ -->
                            <!-- btn-warning: Bootstrap ê²½ê³ (ë…¸ë€ìƒ‰) ë²„íŠ¼ -->
                            <!-- % url 'post_edit' post.pk %: ê²Œì‹œê¸€ ìˆ˜ì • URL, pkëŠ” Primary Key -->
                            <!-- âœï¸: í¸ì§‘ì„ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
                            <a href="{% url 'post_edit' post.pk %}" class="btn btn-warning">
                                âœï¸ ìˆ˜ì •í•˜ê¸°
                            </a>
                            
                            <!-- ì‚­ì œí•˜ê¸° ë²„íŠ¼ -->
                            <!-- button: formì´ ì•„ë‹Œ JavaScript ì•¡ì…˜ìš© ë²„íŠ¼ -->
                            <!-- btn-danger: Bootstrap ìœ„í—˜(ë¹¨ê°„ìƒ‰) ë²„íŠ¼ -->
                            <!-- data-bs-toggle="modal": Bootstrap ëª¨ë‹¬ íŠ¸ë¦¬ê±° -->
                            <!-- data-bs-target="#deleteModal": íƒ€ê²Ÿ ëª¨ë‹¬ ID ì§€ì • -->
                            <!-- ğŸ—‘ï¸: íœ´ì§€í†µì„ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
                            <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">
                                ğŸ—‘ï¸ ì‚­ì œí•˜ê¸°
                            </button>
                            
                        </div>
                    {% endif %}
                    
                </div>
            </div>
        </article>
    </div>
</div>

<!-- ì‚­ì œ í™•ì¸ ëª¨ë‹¬ (ì‘ì„±ìì—ê²Œë§Œ í‘œì‹œ) -->
{% if user == post.author %}

    <!-- Bootstrap ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ -->
    <!-- modal fade: ëª¨ë‹¬ ê¸°ë³¸ í´ë˜ìŠ¤ì™€ í˜ì´ë“œ ì• ë‹ˆë©”ì´ì…˜ -->
    <!-- id="deleteModal": JavaScriptì™€ data-bs-targetì—ì„œ ì°¸ì¡°í•  ê³ ìœ  ID -->
    <!-- tabindex="-1": í‚¤ë³´ë“œ íƒ­ ìˆœì„œì—ì„œ ì œì™¸ -->
    <div class="modal fade" id="deleteModal" tabindex="-1">
        
        <!-- ëª¨ë‹¬ ë‹¤ì´ì–¼ë¡œê·¸ ì»¨í…Œì´ë„ˆ -->
        <div class="modal-dialog">
            
            <!-- ëª¨ë‹¬ ì½˜í…ì¸  -->
            <div class="modal-content">
                
                <!-- ëª¨ë‹¬ í—¤ë” -->
                <div class="modal-header">
                    
                    <!-- ëª¨ë‹¬ ì œëª© -->
                    <h5 class="modal-title">ê²Œì‹œê¸€ ì‚­ì œ</h5>
                    
                    <!-- ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ (X) -->
                    <!-- btn-close: Bootstrap 5ì˜ ë‹«ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ -->
                    <!-- data-bs-dismiss="modal": ëª¨ë‹¬ ë‹«ê¸° ì•¡ì…˜ -->
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    
                </div>
                
                <!-- ëª¨ë‹¬ ë³¸ë¬¸ -->
                <div class="modal-body">
                    
                    <!-- í™•ì¸ ë©”ì‹œì§€ -->
                    <p>ì •ë§ë¡œ ì´ ê²Œì‹œê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                    
                    <!-- ì‚­ì œí•  ê²Œì‹œê¸€ ì œëª© ê°•ì¡° í‘œì‹œ -->
                    <strong>"{{ post.title }}"</strong>
                    
                    <!-- ê²½ê³  ë©”ì‹œì§€ -->
                    <!-- text-danger: Bootstrap ìœ„í—˜(ë¹¨ê°„ìƒ‰) í…ìŠ¤íŠ¸ -->
                    <!-- mt-2: margin-top 2ë‹¨ê³„ -->
                    <!-- âš ï¸: ê²½ê³ ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
                    <p class="text-danger mt-2">âš ï¸ ì‚­ì œëœ ê²Œì‹œê¸€ì€ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                    
                </div>
                
                <!-- ëª¨ë‹¬ í‘¸í„°: ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
                <div class="modal-footer">
                    
                    <!-- ì·¨ì†Œ ë²„íŠ¼ -->
                    <!-- btn-secondary: Bootstrap ë³´ì¡°(íšŒìƒ‰) ë²„íŠ¼ -->
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
                    
                    <!-- ì‚­ì œ í™•ì¸ í¼ -->
                    <!-- method="post": HTTP POST ë°©ì‹ -->
                    <!-- style="display: inline;": ë²„íŠ¼ê³¼ ê°™ì€ ì¤„ì— ë°°ì¹˜ -->
                    <form method="post" style="display: inline;">
                        
                        <!-- CSRF í† í°: ë³´ì•ˆì„ ìœ„í•œ í•„ìˆ˜ ìš”ì†Œ -->
                        {% csrf_token %}
                        
                        <!-- ì‚­ì œ ì•¡ì…˜ ì‹ë³„ìš© íˆë“  í•„ë“œ -->
                        <!-- views.pyì—ì„œ request.POST.get('delete') == 'true'ë¡œ ì‚­ì œ ìš”ì²­ í™•ì¸ -->
                        <input type="hidden" name="delete" value="true">
                        
                        <!-- ìµœì¢… ì‚­ì œ ë²„íŠ¼ -->
                        <!-- type="submit": í¼ ì œì¶œ -->
                        <button type="submit" class="btn btn-danger">ì‚­ì œí•˜ê¸°</button>
                        
                    </form>
                    
                </div>
            </div>
        </div>
    </div>
    
{% endif %}

<!-- ì»¤ìŠ¤í…€ CSS ìŠ¤íƒ€ì¼ -->
<style>
    /* ê²Œì‹œê¸€ ë‚´ìš© ì˜ì—­ ìŠ¤íƒ€ì¼ */
    .post-content {
        font-size: 1.1rem;         /* ê¸°ë³¸ í°íŠ¸ë³´ë‹¤ ì•½ê°„ í¬ê²Œ (ê°€ë…ì„± í–¥ìƒ) */
        line-height: 1.8;          /* ì¤„ ê°„ê²©ì„ ë„‰ë„‰í•˜ê²Œ (ê°€ë…ì„± í–¥ìƒ) */
        color: #333;               /* ì–´ë‘ìš´ íšŒìƒ‰ í…ìŠ¤íŠ¸ (ëˆˆì˜ í”¼ë¡œê° ê°ì†Œ) */
    }
    
    /* ê²Œì‹œê¸€ ì œëª© ìŠ¤íƒ€ì¼ */
    .card-title {
        color: #2c3e50;            /* ì§„í•œ ì²­íšŒìƒ‰ìœ¼ë¡œ ì œëª© ê°•ì¡° */
    }
</style>

{% endblock %} <!-- content ë¸”ë¡ ë -->

<!--

ì´ ê²Œì‹œê¸€ ìƒì„¸ë³´ê¸° í˜ì´ì§€ì˜ íŠ¹ì§•ê³¼ ê¸°ëŠ¥:

1. ì™„ì „í•œ ê²Œì‹œê¸€ ì •ë³´ í‘œì‹œ:
   - ì œëª©, ì‘ì„±ì, ì‘ì„±ì¼, ìˆ˜ì •ì¼ (í•´ë‹¹ì‹œ)
   - ì „ì²´ ê²Œì‹œê¸€ ë‚´ìš©
   - ì‹œê°ì  ì´ëª¨ì§€ë¡œ ì •ë³´ êµ¬ë¶„

2. ë™ì  ê¶Œí•œ ì œì–´:
   - ê²Œì‹œê¸€ ì‘ì„±ìì—ê²Œë§Œ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ í‘œì‹œ
   - user == post.author ì¡°ê±´ìœ¼ë¡œ ê¶Œí•œ í™•ì¸
   - ë‹¤ë¥¸ ì‚¬ìš©ìì—ê²ŒëŠ” ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ë§Œ í‘œì‹œ

3. ì•ˆì „í•œ ì‚­ì œ ê¸°ëŠ¥:
   - Bootstrap ëª¨ë‹¬ë¡œ ì‚­ì œ í™•ì¸
   - ê²Œì‹œê¸€ ì œëª©ê³¼ ê²½ê³  ë©”ì‹œì§€ë¡œ ì‹¤ìˆ˜ ë°©ì§€
   - CSRF í† í°ìœ¼ë¡œ ë³´ì•ˆ ê°•í™”
   - POST ë°©ì‹ìœ¼ë¡œ ì•ˆì „í•œ ì‚­ì œ

4. í–¥ìƒëœ ì‚¬ìš©ì ê²½í—˜:
   - linebreaks í•„í„°ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ í…ìŠ¤íŠ¸ í‘œì‹œ
   - ì§ê´€ì ì¸ ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼
   - ë°˜ì‘í˜• ë””ìì¸ìœ¼ë¡œ ëª¨ë“  ê¸°ê¸° ì§€ì›
   - ì»¤ìŠ¤í…€ CSSë¡œ ê°€ë…ì„± ìµœì í™”

5. ì‘ë™ ê³¼ì •:
   GET ìš”ì²­:
   - views.pyì˜ post_detail_viewì—ì„œ Post ê°ì²´ ê°€ì ¸ì˜¤ê¸°
   - í…œí”Œë¦¿ì— post ë³€ìˆ˜ë¡œ ì „ë‹¬
   - ê¶Œí•œì— ë”°ë¥¸ ì¡°ê±´ë¶€ UI í‘œì‹œ
   
   POST ìš”ì²­ (ì‚­ì œ):
   - ëª¨ë‹¬ì—ì„œ "ì‚­ì œí•˜ê¸°" ë²„íŠ¼ í´ë¦­ì‹œ
   - delete=true íˆë“  í•„ë“œì™€ í•¨ê»˜ POST ì „ì†¡
   - views.pyì—ì„œ ì‚­ì œ ì²˜ë¦¬ í›„ ëª©ë¡ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

ì´ í…œí”Œë¦¿ì€ ê²Œì‹œê¸€ì˜ ëª¨ë“  ì •ë³´ë¥¼ ì‚¬ìš©ì ì¹œí™”ì ìœ¼ë¡œ í‘œì‹œí•˜ë©´ì„œ,
ì‘ì„±ìì—ê²ŒëŠ” ê´€ë¦¬ ê¸°ëŠ¥ì„, ë‹¤ë¥¸ ì‚¬ìš©ìì—ê²ŒëŠ” ì½ê¸° ì „ìš© ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

--> 
